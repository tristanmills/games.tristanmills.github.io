<!DOCTYPE html>
<html lang="en">
<head>

	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>RetroPie Games List</title>

	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<meta name="keywords" content="">
	<meta name="author" content="Tristan Mills">

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/css/bootstrap.min.css">

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.7/js/tether.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/js/bootstrap.min.js"></script>

	<style>
	.container-fluid {
		margin-top: 1rem;
	}
	.btn {
		margin: 0 .25rem;
	}
	ul {
		padding-left: 15px;
		list-style: none;
	}
	li:before {
		content: '\2022';
		display: inline-block;
		width: .5rem;
		margin-right: 1rem;
	}
	li.checked:before {
		content: '\2713';
	}
	</style>

	<script>
	jQuery(document).ready(function($) {

		$.getJSON('games.json', function(systems) {

			for (system in systems) {

				var games = systems[system];

				if (games.length === 0) {
					games.push({
						'name': 'None',
						'multiplayer': {
							'co-op': false,
							'versus': false,
						}
					})
				}

				var html = '<h3>' + system + '</h3>';

				html += '<ul>';

				games.forEach(function(game) {

					var checked = '';
					var multiplayer = '';
					var simultaneous_coop = '';
					var simultaneous_vs = '';
					var alternating_coop = '';
					var alternating_vs = '';

					if (game.players > 1) {
						// checked = ' class="checked"';
						multiplayer = ' <span class="tag tag-info">Multi (' + game.players + ')</span>';
					}

					if (game.multiplayer['simultaneous-coop']) {
						simultaneous_coop = ' <span class="tag tag-success">Simo Co-Op</span>';
					}

					if (game.multiplayer['alternating-coop']) {
						alternating_coop = ' <span class="tag tag-success">Alt Co-Op</span>';
					}

					if (game.multiplayer['simultaneous-vs']) {
						simultaneous_vs = ' <span class="tag tag-danger">Simo Vs</span>';
					}

					if (game.multiplayer['alternating-vs']) {
						alternating_vs = ' <span class="tag tag-danger">Alt Vs</span>';
					}

					html += '<li' + checked + '>' + game.name + multiplayer + simultaneous_coop + alternating_coop + simultaneous_vs + alternating_vs + '</li>';

				});

				html += '</ul>';

				$('#games').append(html);

			}

		});

		$('.btn').on('click', function() {

			$(this).toggleClass('active');

			var type = $(this).attr('id');

		});

	});
	</script>

</head>
<body>

	<nav class="navbar navbar-light bg-faded">
		<a class="navbar-brand" href="#">
			<img src="https://cloud.githubusercontent.com/assets/10035308/11631694/6fa8e356-9cc0-11e5-8bce-4b8305f0fe8f.png" height="34" class="d-inline-block align-top" alt="RetroPie">
			<span>Games List</span>
		</a>
		<button id="alternating-vs" type="button" class="btn btn-outline-danger float-xs-right">Alt Vs</button>
		<button id="simultaneous-vs" type="button" class="btn btn-outline-danger float-xs-right">Simo Vs</button>
		<button id="alternating-coop" type="button" class="btn btn-outline-success float-xs-right">Alt Co-Op</button>
		<button id="simultaneous-coop" type="button" class="btn btn-outline-success float-xs-right">Simo Co-Op</button>
		<button id="multiplayer" type="button" class="btn btn-outline-info float-xs-right">Multi</button>
	</nav>

	<div id="games" class="container-fluid" role="main">

		<noscript>
			<div class="alert alert-danger" role="alert">
				<span>JavaScript is disabled in your web browser. JavaScript is required use this tool. Here are the <a class="alert-link" href="http://enable-javascript.com/" target="_blank">instructions how to enable JavaScript in your web browser</a>.</span>
			</div>
		</noscript>

	</div>

</body>
</html>
